<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
// var arr2 = [{ id: 1, name: '小明' }, { id: 2, name: '卢本伟' }, { id: 3, name: 'PDD' }, { id: 4, name: '大司马' }]
// var arr1 = [{ id: 1, car: '奔驰' }, { id: 2, car: '宝马' }, { id: 3, car: '劳斯' }, { id: 4, car: '大众' }]
// // 方法如下
// const combined = arr2.reduce((acc, cur) => {
//     console.log('start--------')
//     console.log(acc);
//     console.log('acc++++++++')
//     console.log(cur);
// const target = acc.find(e => e.id === cur.id);
// console.log('target*********')
// console.log(target);debugger;

    // if (target) {
    //     Object.assign(target, cur);
    // } else {
    //     acc.push(cur);
    // }
    // console.log('acc###########')
    // console.log(acc);
    // return acc;
//   }, arr1);
// console.log(combined)

const testCategories = [
    { id: '1bcddudhmh', type:  0, name: '车贷' },
    { id: 'hc5g66kviq', type:  0, name: '车辆保养' },
    { id: '8s0p77c323', type:  0, name: '房贷' },
    { id: '0fnhbcle6hg', type:  0, name: '房屋租赁' },
    { id: 'odrjk823mj8', type:  0, name: '家庭用品' },
    { id: 'bsn20th0k2o', type:  0, name: '交通' },
    { id: 'j1h1nohhmmo', type:  0, name: '旅游' },
    { id: '3tqndrjqgrg', type:  0, name: '日常饮食' },
    { id: 's73ijpispio', type:  1, name: '工资' },
    { id: '1vjj47vpd28', type:  1, name: '股票投资' },
    { id: '5il79e11628', type:  1, name: '基金投资' }
]
  
const testItems = [
      {
        type:  0,
        time: '1561910400000',
        category: '8s0p77c323',
        amount:  5400
      },
        {
        type:  0,
        time: '1561910400000',
        category: '0fnhbcle6hg',
        amount:  1500
      },
        {
        type:  0,
        time: '1563897600000',
        category: '3tqndrjqgrg',
        amount:  3900
      },
        {
        type:  0,
        time: '1564502400000',
        category: 'bsn20th0k2o',
        amount: '1900'
      },
        {
        type:  0,
        time: '1564588800000',
        category: '8s0p77c323',
        amount:  5400
      },
        {
        type:  0,
        time: '1564588800000',
        category: '0fnhbcle6hg',
        amount:  1500
      },
        {
        type:  0,
        time: '1564588800000',
        category: '3tqndrjqgrg',
        amount:  5000
      },
        {
        type:  0,
        time: '1566316800000',
        category: 'bsn20th0k2o',
        amount:  2000
      },
        {
        type:  0,
        time: '1567267200000',
        category: '8s0p77c323',
        amount:  5400
      },
        {
        type:  0,
        time: '1567267200000',
        category: '0fnhbcle6hg',
        amount:  1500
      },
        {
        type:  0,
        time: '1569772800000',
        category: '1bcddudhmh',
        amount:  3000
      },
        {
        type:  0,
        time: '1569772800000',
        category: 'bsn20th0k2o',
        amount:  1500
      },
        {
        type:  0,
        time: '1569772800000',
        category: '3tqndrjqgrg',
        amount:  5000
      },
        {
        type:  0,
        time: '1569859200000',
        category: '0fnhbcle6hg',
        amount:  1500
      },
        {
        type:  0,
        time: '1572364800000',
        category: 'odrjk823mj8',
        amount:  3000
      },
        {
        type:  0,
        time: '1572451200000',
        category: '3tqndrjqgrg',
        amount:  4600
      },
        {
        type:  0,
        time: '1572451200000',
        category: '3tqndrjqgrg',
        amount:  3800
      },
        {
        type:  0,
        time: '1572537600000',
        category: '0fnhbcle6hg',
        amount:  1500
      },
        {
        type:  0,
        time: '1574179200000',
        category: 'odrjk823mj8',
        amount:  2000
      },
        {
        type:  0,
        time: '1574870400000',
        category: '1bcddudhmh',
        amount:  3000
      },
        {
        type:  0,
        time: '1574956800000',
        category: '8s0p77c323',
        amount:  5400
      },
        {
        type:  0,
        time: '1575043200000',
        category: '3tqndrjqgrg',
        amount:  5000
      },
        {
        type:  0,
        time: '1575129600000',
        category: '0fnhbcle6hg',
        amount:  1500
      },
        {
        type:  0,
        time: '1577289600000',
        category: '3tqndrjqgrg',
        amount:  4000
      },
        {
        type:  0,
        time: '1577345333184',
        category: 'odrjk823mj8',
        amount:  2000
      },
      {
        type:  0,
        time: '1577345367638',
        category: '1bcddudhmh',
        amount:  3000
      },
      {
        type:  0,
        time: '1577345378418',
        category: 'j1h1nohhmmo',
        amount:  800
      },
      {
        type:  0,
        time: '1577345504140',
        category: 'bsn20th0k2o',
        amount:  1000
      },
      {
        type:  0,
        time: '1577345517217',
        category: 'hc5g66kviq',
        amount:  2000
      },
      {
        type:  0,
        time: '1577345576917',
        category: '8s0p77c323',
        amount:  5400
      },
      {
        type:  0,
        time: '1577345590283',
        category: '1bcddudhmh',
        amount:  3000
      },
      {
        type:  0,
        time: '1577345789527',
        category: '3tqndrjqgrg',
        amount:  3900
      },
      {
        type:  0,
        time: '1577548800000',
        category: '8s0p77c323',
        amount:  5400
      },
      {
        type:  1,
        time: '1561910400000',
        category: 's73ijpispio',
        amount:  30000
      },
      {
        type:  1,
        time: '1564502400000',
        category: '5il79e11628',
        amount:  1000
      },
      {
        type:  1,
        time: '1567094400000',
        category: '1vjj47vpd28',
        amount:  -3000
      },
      {
        type:  1,
        time: '1567180800000',
        category: 's73ijpispio',
        amount:  28000
      },
      {
        type:  1,
        time: '1569772800000',
        category: 's73ijpispio',
        amount:  28000
      },
      {
        type:  1,
        time: '1569772800000',
        category: '1vjj47vpd28',
        amount:  2000
      },
      {
        type:  1,
        time: '1572451200000',
        category: 's73ijpispio',
        amount:  20000
      },
      {
        type:  1,
        time: '1577345267529',
        category: 's73ijpispio',
        amount:  30000
      },
      {
        type:  1,
        time: '1577345303191',
        category: '1vjj47vpd28',
        amount:  -10000
      },
      {
        type:  1,
        time: '1577345317187',
        category: '5il79e11628',
        amount:  1000
      },
      {
        type:  1,
        time: '1577345463930',
        category: 's73ijpispio',
        amount:  3000
      },
      {
        type:  1,
        time: '1577345477581',
        category: '5il79e11628',
        amount:  2000
      },
      {
        type:  1,
        time: '1577345638784',
        category: '1vjj47vpd28',
        amount:  2000
      }
]

const itemData = testItems.map(item => {
    item.amount = Math.abs(item.amount);
    let name = testCategories.filter(fil => fil.id.includes(item.category))[0]['name']
    item = {
        ...item,
        name,
    }
    return item
})



const totalAmount = (sumtype, data) => {  
  let result = 0;
   const money = data && data.reduce((num,item)=>{
       console.log(item.type,'item.type')
        console.log('---------')
       if (sumtype === item.type) {
          console.log(item.amount,'if === item.amount')
          result = result + item.amount * 1
          return result;
          console.log(item.type,'if === item.type')
          console.log(result,'if == item.type result')
       }
        console.log(sumtype,'my.type');
        console.log('if not === ---------')
        console.log(item.amount,'if not -- item.amount');
        // return total + num

    })
    
    return money
}
// totalAmount(0,itemData)
console.log(totalAmount(0,itemData))//160000
</script>